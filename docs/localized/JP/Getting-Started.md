# 入門ガイド

このガイドでは Unity で[環境例](Learning-Environment-Examples.md)の 1 つを開き、エージェントを訓練し、訓練したモデルを Unity 環境に埋め込む一連の手順を説明します。

読み終わると、どの環境例でも訓練を実行できるようになるでしょう。

もし、[Unity エンジン](https://unity3d.com/unity)についてよく知らない場合は[予備知識: Unity](Background-Unity.md)ページを参考にしてください。
加えて、機械学習についてよく知らない場合は[予備知識: 機械学習](Background-Machine-Learning.md)ページで簡単な概要を把握してください。

![3D Balance Ball](../../images/balance.png)

このガイドでは、**3D バランスボール**環境を使います。この環境は多数のエージェント(立方体)とボールを含みます。
各エージェント(立方体)は水平または垂直に回転することによりボールが落ちないようにします。
この環境では、立方体が**エージェント**であり、ボールを落とさない間、各ステップで報酬を受け取ります。
エージェントはまたボールを落とした場合、負の報酬を受け取ります。
訓練プロセスの目的はエージェントにボールを落とさないようにバランスをとることを学ばせることです。

では始めましょう！

## インストール

インストールしていない場合は、[インストール手順](Installation.md)に従ってください。
その後、全ての環境例を含む Unity プロジェクトを開きます。

1. Unity Hub を起動する
   翻訳中・・・

## Unity 環境の理解

エージェントは環境を観察し、環境と相互作用する自律的なアクターです。
Unity の言葉では、環境とは 1 つ以上のエージェントと、もちろんエージェントと相互作用する他のものが含まれたシーンです。

![Unity Editor](../../images/mlagents-3DBallHierarchy.png)

**注意：** Unity では、シーンの全ての物の基本オブジェクトは*GameObject*です。GameObject は基本的にビヘイビア、グラフィックス、物理など、その他すべての入れ物です。
ゲームオブジェクトを構成する全てのコンポーネントを見るためには、シーンウィンドウで GameObject を選択し、インスペクタウィンドウを開いてください。
インスペクタウィンドウにはその GameObject に付いている全てのコンポーネントが表示されます。

3D バランスボールのシーンを開くと、1 つではなく複数のエージェント(立方体)が含まれていることに気付くでしょう。
シーン内の各エージェントは独立していますが、それらは同じビヘイビアを共有します。
そうすることで、12 体のエージェントが訓練に並行で貢献し訓練がスピードアップします。

### エージェント

エージェントは環境の中で観測、行動するアクターです。
3D バランスボール環境では、Agent コンポーネントは 12 個の Agent ゲームオブジェクトに設置されています。
ベース Agent オブジェクトにはビヘイビアに影響を与えるいくつかのプロパティがあります。

- 翻訳中・・・

## 訓練済みモデルの実行

エージェントの訓練済みモデル(`.nn`ファイル)が含まれているので、[Unity 推論エンジン](Unity-Inference-Engine.md)を利用して Unity でこれらの訓練済みモデルを実行できます。
このセクションでは、3D ボールサンプルの訓練済みモデルを使用します。

1. プロジェクトウィンドウで、`Assets/ML-Agents/Examples/3DBall/Prefabs`フォルダを開きます。`3DBall`を開き、`Agent`プレハブをクリックします。**インスペクタ**ウィンドウに`Agent`プレハブが表示されるはずです。

   **注意：**3D ボールシーンのプラットフォームは`3DBall`プレハブを使用して作成されました。12 体のプラットフォームを個別に更新する代わりに`3DBall`プレハブを更新できます。

![Platform Prefab](../../images/platform_prefab.png)

## 強化学習による新しいモデルの訓練

この環境のエージェント用に学習済みの`.nn`ファイルが提供されていますが、あなたが自分で作った環境では、新しいモデルファイルを生成するためにエージェントを一から訓練する必要があります。
このセクションでは、これを実現するために ML-Agents Python パッケージの強化学習アルゴリズムの使い方を紹介します。
私たちは訓練と推論を設定できる`mlagents-learn`という便利なコマンドを提供しています。

### 環境の訓練

1. 端末またはターミナルを開きます。
1. クローンした`ml-agents`フォルダに移動します。**注意：**もし[インストール](Installation.md)の手順に従っていれば、任意のディレクトリから`mlagents-learn`コマンドを実行できるはずです。
1. `mlagents-learn config/ppo/3DBall.yaml --run-id=first3DBallRun`を実行してください。
