# ML-Agents ツールキット概要

**目次**

- [実行例: NPC の挙動の訓練](#running-example-training-npc-behaviors)
- [主要コンポーネント](#key-components)
- [訓練モード](#training-modes)
  - [組み込みの訓練と推論](#built-in-training-and-inference)
    - [クロスプラットフォーム推論](#cross-platform-inference)
  - [カスタムの訓練と推論](#custom-training-and-inference)
- [柔軟な訓練シナリオ](#flexible-training-scenarios)
- [環境にとらわれない訓練方法](#training-methods-environment-agnostic)
  - [報酬信号に関する簡単な注意](#a-quick-note-on-reward-signals)
  - [深層強化学習](#deep-reinforcement-learning)
    翻訳中・・・

**Unity Machine Learning Agents ツールキット**(ML-Agents ツールキット)はゲームとシミュレーションを知的エージェントの訓練環境として使用するためのオープンソースプロジェクトです。
エージェントはシンプルな Python API を使って、強化学習、模倣学習、神経進化、もしくは他の機械学習手法で訓練できます。
また、ゲーム開発者や愛好家が 2D または 3D、VR または AR の知的エージェントを簡単に訓練できるよう、最先端のアルゴリズムの TensorFlow 実装を提供しています。
これらの訓練済みエージェントは、NPC の振る舞いの制御、ゲームビルドの自動テスト、リリース前の異なるゲームデザインの評価など、複数の目的に使用できます。
ML-Agents ツールキットは、AI の進歩を Unity のリッチな環境で評価し、より幅広い研究やゲーム開発者コミュニティにアクセスできる中央プラットフォームを提供するため、ゲーム開発者と AI 研究者双方に取って有益です。

あなたのバックグラウンド(研究者、ゲーム開発者、愛好家)に応じて、現時点で様々な疑問を抱くかもしれません。
ML-Agents ツールキットへの移行を容易にするために、[Unity エンジン](Background-Unity.md)や[機械学習](Background-Machine-Learning.md)、[TensorFlow](Background-TensorFlow.md)の予備知識ページを作りました。
もし、それらについてよく知らないのであれば、予備知識ページを閲覧することを強くお勧めします。

このページの残りの部分では、ML-Agents、その主要コンポーネント、さまざまな訓練モードとシナリオについて詳しく説明します。
終わる頃には ML-Agents ツールキットを使用して何ができるかが理解できるでしょう。
移行のドキュメントページでは、ML-Agents の使用方法の例を示します。
入門するために[デモビデオ](https://www.youtube.com/watch?v=fiQsmdwEGT8&feature=youtu.be)をご覧ください。

## 実行例: NPC の振る舞いの訓練

このページの資料と用語を説明するために、全体を通して架空の実行例を使用します。
ゲーム内の NPC の振る舞いを訓練する問題を探ります。
(NPC は人間のプレイヤーによってコントロールされることのないゲームキャラクターで、その振る舞いはゲーム開発者によって事前定義されています。)
より具体的には、プレイヤーが兵士を制御するマルチプレイヤーの戦争をテーマとしたゲームを構築しているとしましょう。
このゲームでは、負傷兵を見つけて回復させるメディックとして機能する NPC がいます。
最後に、2 つのチームがあり、それぞれ 5 人のプレイヤーと 1 人のメディック NPC がいるとします。

メディックの振る舞いは非常に複雑です。
最初に、メディックは怪我をしないようにする必要があります。そのため、危険を察知し安全な場所に移動する必要があります。
次に、チームメンバーが負傷し支援を必要とするか判断する必要があります。
複数の負傷者が出た場合は、負傷の程度を評価し誰を最初に助けるかを決める必要があります。
最後に、優れたメディックは常に負傷兵をすぐ助けられる位置にいます。
これらの特性全てを考慮に入れることは、全てのインスタンスで、メディックは環境の属性(チームメンバーの位置、敵の位置、誰が怪我をしていて、どの程度か)を判断し、行動(敵から隠れる、メンバーを助けに行く)を決定する必要があります。
環境の設定が多数あり、メディックの可能な行動も多い場合、そのような複雑な行動を手動で定義することは困難でありエラーを誘発します。

翻訳中・・・

## 主要コンポーネント

ML-Agents には 5 つのハイレベルコンポーネントが含まれています。

- **Learning Environment** - これは Unity シーンと全てのゲームキャラクターを含みます。Unity シーンはエージェントが観測、行動、学習する環境を提供します。Unity シーンをどのようにセットアップして学習環境として機能させるかは、目標によって異なります。

翻訳中・・・

- **Python 低レベル API** - これは学習環境と相互作用し操作するための低レベル Python インターフェースを含みます。学習環境とは異なり、Python API は Unity の一部ではありません。Unity の外部に存在し Unity と Communicator を介して通信します。

翻訳中・・・

- **外部 Communicator** - これは学習環境内にあり、学習環境と Python 低レベル API を接続します。

- **Python Trainers** - これはエージェントの訓練を可能にする全ての機械学習アルゴリズムを含みます。アルゴリズムは Python で実装され、それらは mlagents Python パッケージの一部です。このパッケージは全ての訓練方法をサポートする`mlagents-learn`コマンドを公開しており、オプションはこのドキュメントで説明されています。Python Trainers は Python 低レベル API とのみインターフェースします。

翻訳中・・・

<p align="center">
  <img src="../../images/learning_environment_basic.png"
       alt="Simplified ML-Agents Scene Block Diagram"
       width="600"
       border="10" />
</p>
